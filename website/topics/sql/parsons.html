<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parsons Problems: SQL Queries - Python Learning</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/components.css">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-brand">
            <span class="logo">üêç</span>
            <span class="brand-text">Python Learning</span>
        </div>
        <ul class="nav-links">
            <li><a href="../../index.html">Home</a></li>
            <li><a href="../index.html" class="active">Topics</a></li>
            <li><a href="../../progress.html">My Progress</a></li>
            <li><a href="../../help.html">Help</a></li>
        </ul>
    </nav>

    <main class="container-narrow">
        <nav class="breadcrumb">
            <a href="../../index.html">Home</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <a href="../index.html">Topics</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <a href="index.html">SQL & Databases</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <span class="breadcrumb-current">Parsons Problems</span>
        </nav>

        <header class="mb-xl">
            <h1><span>üß©</span> Build SQL Queries</h1>
            <p>Arrange the SQL clauses in the correct order to create working queries!</p>
            <div class="alert alert-info">
                <strong>Remember:</strong> SQL queries follow the order: SELECT... FROM... WHERE...
            </div>
        </header>

        <!-- Parsons Problem 1: Foundation -->
        <section class="mb-xl">
            <span class="difficulty-badge foundation mb-md" style="display: inline-block;">Foundation</span>
            <div id="parsons-1"></div>
        </section>

        <!-- Parsons Problem 2: Core -->
        <section class="mb-xl">
            <span class="difficulty-badge core mb-md" style="display: inline-block;">Core</span>
            <div id="parsons-2"></div>
        </section>

        <!-- Parsons Problem 3: Extension -->
        <section class="mb-xl">
            <span class="difficulty-badge extension mb-md" style="display: inline-block;">Extension</span>
            <div id="parsons-3"></div>
        </section>

        <div class="mt-xl">
            <a href="quiz.html" class="btn btn-primary">Next: Knowledge Quiz ‚Üí</a>
            <a href="trace.html" class="btn btn-secondary">‚Üê Back to Tracing</a>
        </div>
    </main>

    <footer class="main-footer">
        <p>Built on evidence-based teaching methods from computing education research.</p>
    </footer>

    <script src="../../js/progress.js"></script>
    <script src="../../js/parsons.js"></script>
    <script src="../../js/main.js"></script>
    <script>
        // Parsons Problem 1: Foundation - Simple SELECT FROM
        new ParsonsProblem(
            document.getElementById('parsons-1'),
            {
                id: 'sql-parsons-1',
                topicId: 'sql',
                title: 'Get All Student Names',
                instructions: 'Arrange the SQL clauses to get all names from the students table.',
                expectedOutput: 'SELECT name FROM students;',
                blocks: [
                    { id: 1, code: 'SELECT name', indentLevel: 0 },
                    { id: 2, code: 'FROM students;', indentLevel: 0 }
                ],
                solution: [1, 2],
                hints: [
                    'SELECT comes first - it specifies what columns you want.',
                    'FROM comes second - it specifies which table to query.',
                    'The semicolon goes at the end of the statement.'
                ]
            }
        );

        // Parsons Problem 2: Core - SELECT FROM WHERE
        new ParsonsProblem(
            document.getElementById('parsons-2'),
            {
                id: 'sql-parsons-2',
                topicId: 'sql',
                title: 'Find Students in Year 10',
                instructions: 'Arrange the SQL clauses to get names and ages of students in Year 10. (One clause is a distractor.)',
                expectedOutput: 'SELECT name, age FROM students WHERE year_group = 10;',
                blocks: [
                    { id: 1, code: 'SELECT name, age', indentLevel: 0 },
                    { id: 2, code: 'FROM students', indentLevel: 0 },
                    { id: 3, code: "WHERE year_group = 10;", indentLevel: 0 },
                    { id: 4, code: "WHERE year_group = '10';", indentLevel: 0, isDistractor: true }
                ],
                solution: [1, 2, 3],
                hints: [
                    'Start with SELECT and list the columns you want.',
                    'FROM specifies the table.',
                    'WHERE filters the results.',
                    'Numbers don\'t need quotes! year_group = 10, not \'10\''
                ]
            }
        );

        // Parsons Problem 3: Extension - Complex WHERE with AND
        new ParsonsProblem(
            document.getElementById('parsons-3'),
            {
                id: 'sql-parsons-3',
                topicId: 'sql',
                title: 'Find Red House Students Over 14',
                instructions: 'Arrange the SQL clauses to find names of students in Red house who are older than 14. (One clause is a distractor.)',
                expectedOutput: "SELECT name FROM students WHERE house = 'Red' AND age > 14;",
                blocks: [
                    { id: 1, code: 'SELECT name', indentLevel: 0 },
                    { id: 2, code: 'FROM students', indentLevel: 0 },
                    { id: 3, code: "WHERE house = 'Red'", indentLevel: 0 },
                    { id: 4, code: 'AND age > 14;', indentLevel: 0 },
                    { id: 5, code: 'OR age > 14;', indentLevel: 0, isDistractor: true }
                ],
                solution: [1, 2, 3, 4],
                hints: [
                    'SELECT specifies the column you want (name).',
                    'FROM specifies the table.',
                    'WHERE starts the filtering conditions.',
                    'AND means BOTH conditions must be true - we want Red house AND over 14.',
                    'OR would include anyone in Red house OR anyone over 14 - that\'s not what we want!'
                ]
            }
        );
    </script>
</body>
</html>
