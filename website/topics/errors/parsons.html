<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fix the Code: Common Errors - Python Learning</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/components.css">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-brand">
            <span class="logo">üêç</span>
            <span class="brand-text">Python Learning</span>
        </div>
        <ul class="nav-links">
            <li><a href="../../index.html">Home</a></li>
            <li><a href="../index.html" class="active">Topics</a></li>
            <li><a href="../../progress.html">My Progress</a></li>
            <li><a href="../../help.html">Help</a></li>
        </ul>
    </nav>

    <main class="container-narrow">
        <nav class="breadcrumb">
            <a href="../../index.html">Home</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <a href="../index.html">Topics</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <a href="index.html">Common Errors</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <span class="breadcrumb-current">Fix the Code</span>
        </nav>

        <header class="mb-xl">
            <h1><span>üß©</span> Modify: Fix the Code</h1>
            <p>These code snippets contain errors. Arrange the CORRECT blocks to create working programs!</p>
            <div class="alert alert-info">
                <strong>Tip:</strong> Some blocks are broken versions of the correct code. Choose carefully - look for common mistakes like missing colons, wrong operators, or incorrect indentation.
            </div>
        </header>

        <!-- Parsons Problem 1: Foundation -->
        <section class="mb-xl">
            <span class="difficulty-badge foundation mb-md" style="display: inline-block;">Foundation</span>
            <div id="parsons-1"></div>
        </section>

        <!-- Parsons Problem 2: Core -->
        <section class="mb-xl">
            <span class="difficulty-badge core mb-md" style="display: inline-block;">Core</span>
            <div id="parsons-2"></div>
        </section>

        <!-- Parsons Problem 3: Extension -->
        <section class="mb-xl">
            <span class="difficulty-badge extension mb-md" style="display: inline-block;">Extension</span>
            <div id="parsons-3"></div>
        </section>

        <div class="mt-xl">
            <a href="quiz.html" class="btn btn-primary">Next: Knowledge Quiz ‚Üí</a>
            <a href="trace.html" class="btn btn-secondary">‚Üê Back to Tracing</a>
        </div>
    </main>

    <footer class="main-footer">
        <p>Built on evidence-based teaching methods from computing education research.</p>
    </footer>

    <script src="../../js/progress.js"></script>
    <script src="../../js/parsons.js"></script>
    <script src="../../js/main.js"></script>
    <script>
        // Parsons Problem 1: Foundation - Fix missing colon
        new ParsonsProblem(
            document.getElementById('parsons-1'),
            {
                id: 'errors-parsons-1',
                topicId: 'errors',
                title: 'Fix the If Statement',
                instructions: 'This code should check if someone is old enough to vote (18+). One block has a syntax error. Choose the correct blocks.',
                expectedOutput: 'You can vote!',
                blocks: [
                    { id: 1, code: 'age = 18', indentLevel: 0 },
                    { id: 2, code: 'if age >= 18:', indentLevel: 0 },
                    { id: 3, code: '    print("You can vote!")', indentLevel: 1 },
                    { id: 4, code: 'if age >= 18', indentLevel: 0, isDistractor: true }
                ],
                solution: [1, 2, 3],
                hints: [
                    'First, set the age variable.',
                    'Check if age is 18 or more.',
                    'If statements need a colon at the end!',
                    'The print must be indented inside the if.'
                ]
            }
        );

        // Parsons Problem 2: Core - Fix variable update
        new ParsonsProblem(
            document.getElementById('parsons-2'),
            {
                id: 'errors-parsons-2',
                topicId: 'errors',
                title: 'Fix the Sum Calculator',
                instructions: 'This code should add up all numbers in the list. One block has a logic error (the value is calculated but not stored). Choose the correct blocks.',
                expectedOutput: '15',
                blocks: [
                    { id: 1, code: 'numbers = [1, 2, 3, 4, 5]', indentLevel: 0 },
                    { id: 2, code: 'total = 0', indentLevel: 0 },
                    { id: 3, code: 'for num in numbers:', indentLevel: 0 },
                    { id: 4, code: '    total = total + num', indentLevel: 1 },
                    { id: 5, code: 'print(total)', indentLevel: 0 },
                    { id: 6, code: '    total + num', indentLevel: 1, isDistractor: true }
                ],
                solution: [1, 2, 3, 4, 5],
                hints: [
                    'Create the list and initialise total to 0.',
                    'Loop through each number.',
                    'IMPORTANT: You must STORE the result with = not just calculate it!',
                    'Print the total AFTER the loop completes.'
                ]
            }
        );

        // Parsons Problem 3: Extension - Fix loop initialisation
        new ParsonsProblem(
            document.getElementById('parsons-3'),
            {
                id: 'errors-parsons-3',
                topicId: 'errors',
                title: 'Fix the Counter',
                instructions: 'This code should count how many even numbers are in the list (answer: 3). The counter must be initialised BEFORE the loop, not inside it.',
                expectedOutput: '3',
                blocks: [
                    { id: 1, code: 'nums = [2, 5, 8, 3, 6]', indentLevel: 0 },
                    { id: 2, code: 'count = 0', indentLevel: 0 },
                    { id: 3, code: 'for n in nums:', indentLevel: 0 },
                    { id: 4, code: '    if n % 2 == 0:', indentLevel: 1 },
                    { id: 5, code: '        count = count + 1', indentLevel: 2 },
                    { id: 6, code: 'print(count)', indentLevel: 0 },
                    { id: 7, code: '    count = 0', indentLevel: 1, isDistractor: true }
                ],
                solution: [1, 2, 3, 4, 5, 6],
                hints: [
                    'Set up the list and counter first.',
                    'The counter MUST be initialised BEFORE the loop.',
                    'If you put count = 0 inside the loop, it resets every iteration!',
                    'Check if each number is even using modulo (% 2 == 0).',
                    'Print the count AFTER the loop finishes.'
                ]
            }
        );
    </script>
</body>
</html>
