<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Tracing: For Loops - Python Learning</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/components.css">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-brand">
            <span class="logo">üêç</span>
            <span class="brand-text">Python Learning</span>
        </div>
        <ul class="nav-links">
            <li><a href="../../index.html">Home</a></li>
            <li><a href="../index.html" class="active">Topics</a></li>
            <li><a href="../../progress.html">My Progress</a></li>
            <li><a href="../../help.html">Help</a></li>
        </ul>
    </nav>

    <main class="container-narrow">
        <nav class="breadcrumb">
            <a href="../../index.html">Home</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <a href="../index.html">Topics</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <a href="index.html">For Loops</a>
            <span class="breadcrumb-separator">‚Ä∫</span>
            <span class="breadcrumb-current">Trace</span>
        </nav>

        <header class="mb-xl">
            <h1><span>üìä</span> Investigate: Trace the Code</h1>
            <p>Tracing means following the code step by step, tracking what happens to each variable. It's like being a detective!</p>
            <div class="alert alert-info">
                <strong>How to trace:</strong> Look at each line in order. Write down what the variable values are AFTER that line runs.
            </div>
        </header>

        <!-- Code Tracing Container -->
        <div id="tracing-exercise"></div>

        <section class="mt-xl">
            <h2>More Practice</h2>
            <div id="tracing-exercise-2" class="mt-lg"></div>
        </section>

        <div class="mt-xl">
            <a href="parsons.html" class="btn btn-primary">Next: Parsons Problems ‚Üí</a>
            <a href="example.html" class="btn btn-secondary">‚Üê Back to Example</a>
        </div>
    </main>

    <footer class="main-footer">
        <p>Built on evidence-based teaching methods from computing education research.</p>
    </footer>

    <script src="../../js/progress.js"></script>
    <script src="../../js/tracing.js"></script>
    <script src="../../js/main.js"></script>
    <script>
        // First tracing exercise - Simple for loop
        new CodeTracing(
            document.getElementById('tracing-exercise'),
            {
                id: 'for-loops-trace-1',
                title: 'Trace a Simple For Loop',
                topicId: 'for-loops',
                code: `for i in range(3):
    print(i)`,
                variables: ['i'],
                includeOutput: true,
                prefilled: [0, 1],  // Pre-fill first two rows to scaffold
                solution: [
                    { step: 1, line: 1, variables: { i: 0 }, output: '' },
                    { step: 2, line: 2, variables: { i: 0 }, output: '0' },
                    { step: 3, line: 1, variables: { i: 1 }, output: '' },
                    { step: 4, line: 2, variables: { i: 1 }, output: '1' },
                    { step: 5, line: 1, variables: { i: 2 }, output: '' },
                    { step: 6, line: 2, variables: { i: 2 }, output: '2' }
                ]
            }
        );

        // Second tracing exercise - Accumulator
        new CodeTracing(
            document.getElementById('tracing-exercise-2'),
            {
                id: 'for-loops-trace-2',
                title: 'Trace an Accumulator Pattern',
                topicId: 'for-loops',
                code: `total = 0
for i in range(1, 4):
    total = total + i
print(total)`,
                variables: ['total', 'i'],
                includeOutput: true,
                prefilled: [0, 1, 2],  // Pre-fill first three rows
                solution: [
                    { step: 1, line: 1, variables: { total: 0, i: null }, output: '' },
                    { step: 2, line: 2, variables: { total: 0, i: 1 }, output: '' },
                    { step: 3, line: 3, variables: { total: 1, i: 1 }, output: '' },
                    { step: 4, line: 2, variables: { total: 1, i: 2 }, output: '' },
                    { step: 5, line: 3, variables: { total: 3, i: 2 }, output: '' },
                    { step: 6, line: 2, variables: { total: 3, i: 3 }, output: '' },
                    { step: 7, line: 3, variables: { total: 6, i: 3 }, output: '' },
                    { step: 8, line: 4, variables: { total: 6, i: 3 }, output: '6' }
                ]
            }
        );
    </script>
</body>
</html>
